# 私募产品开放日管理系统

这是一个完整的生产级私募产品开放日管理系统，基于现代Web技术栈构建，支持用户认证、权限管理、产品管理、日历展示等核心功能。

## 🚀 项目特色

- **现代化技术栈**：Node.js + Express + MySQL + HTML5
- **完整的用户体系**：支持用户注册、登录、权限管理
- **灵活的产品管理**：支持多种开放日规则配置
- **智能日历展示**：自动计算预约期，支持休市日顺延
- **丰富的导入导出**：支持Excel批量导入，多种格式导出
- **生产级部署**：支持阿里云ECS + Vercel部署方案

## 📋 系统功能

### 🔐 用户认证管理
- **手机号+密码登录**：安全的JWT认证机制
- **用户注册**：支持手机号、邮箱、姓名注册
- **密码找回**：联系管理员重置密码
- **会话管理**：支持"记住登录状态"功能

### 👥 权限管理系统
- **管理员权限**：
  - 用户管理（创建/禁用用户、重置密码）
  - 休市日管理（新增/修改休市日）
  - 产品管理（添加/编辑/删除产品）
  - Excel上传校验功能

- **普通用户权限**：
  - 查看所有产品的日历信息
  - 查看休市日数据
  - 无编辑权限

### 📊 产品管理
- **多种开放类型**：
  - 申购/赎回开放日
  - 仅申购开放日
  - 仅赎回开放日

- **灵活预约期设置**：
  - 支持前N个交易日预约
  - 支持手动预约期设置
  - 自动避开休市日

- **批量操作**：
  - Excel模板导入
  - 批量数据校验
  - 错误报告生成

### 📅 日历展示系统
- **双日历视图**：
  - 预约期日历（蓝色标注）
  - 开放日日历（彩色标注）

- **智能日期计算**：
  - 自动识别交易日
  - 休市日顺延计算
  - 多规则日期解析

- **可视化展示**：
  - 清晰的产品标注
  - 颜色区分不同类型
  - 响应式布局设计

### 📤 导出功能
- **图片导出**：高清日历截图
- **PDF导出**：专业格式文档
- **Excel导出**：结构化数据表格

## 🛠 技术架构

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端界面      │◄──►│   后端API       │◄──►│   MySQL数据库   │
│   (HTML+JS)     │    │   (Node+Express)│    │   (数据存储)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
        │                        │                        │
        ▼                        ▼                        ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│     Vercel      │    │   阿里云ECS     │    │   本地部署      │
│   (前端托管)    │    │   (后端服务)    │    │   (数据库)      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 📁 项目结构

```
/产品日历/
├── frontend/           # 前端代码
│   └── index.html      # 主界面文件
├── backend/            # 后端代码
│   ├── server.js       # 主服务文件
│   ├── config.js       # 配置文件
│   ├── package.json    # 依赖管理
│   └── README.md       # 后端说明文档
├── database/           # 数据库脚本
│   └── schema.sql      # 数据库结构和初始数据
├── deployment/         # 部署相关文件
│   ├── deploy.sh       # 一键部署脚本
│   ├── README.md       # 详细部署指南
│   └── test-validation.md # 测试验证清单
└── README.md           # 项目总览文档
```

## 🚀 快速开始

### 1. 本地开发环境

```bash
# 克隆项目（如果有Git仓库）
git clone <repository-url>
cd 产品日历

# 启动后端服务
cd backend
npm install
npm run dev

# 启动前端（在浏览器中打开 frontend/index.html）
```

### 2. 生产环境部署

```bash
# 使用一键部署脚本（阿里云ECS）
./deployment/deploy.sh
```

详细部署步骤请参考：[部署指南](./deployment/README.md)

## 🔧 系统配置

### 数据库配置
- MySQL 8.0+
- 默认数据库：`private_fund_calendar`
- 默认管理员：`13800138000` / `admin123`

### 后端配置
- 端口：3001
- JWT过期时间：7天
- 支持跨域访问

### 前端配置
- 响应式设计
- 支持现代浏览器
- API地址需配置为后端服务地址

## 📚 API文档

系统提供完整的RESTful API接口：

- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录
- `GET /api/products` - 获取产品列表
- `POST /api/products` - 创建/更新产品
- `GET /api/calendar/:year/:month` - 获取日历数据
- `GET /api/holidays` - 获取休市日列表
- `POST /api/holidays` - 添加休市日（管理员）

详细API文档请参考后端代码注释。

## 🔒 安全特性

- **密码加密**：bcrypt哈希+盐值存储
- **JWT认证**：安全的令牌认证机制
- **跨域保护**：CORS配置和安全头
- **速率限制**：防止恶意请求攻击
- **输入验证**：Joi验证库进行数据校验
- **SQL注入防护**：参数化查询

## 📈 性能优化

- **数据库连接池**：提升并发处理能力
- **响应式前端**：适配不同屏幕尺寸
- **图片懒加载**：提升页面加载速度
- **缓存机制**：减少重复数据请求

## 🧪 测试验证

完整的测试验证清单请参考：[测试验证文档](./deployment/test-validation.md)

## 📞 技术支持

如需技术支持，请联系系统管理员或参考以下文档：
- [部署指南](./deployment/README.md)
- [后端API文档](./backend/README.md)
- [测试验证清单](./deployment/test-validation.md)

## 📄 开源协议

本项目采用 MIT 协议开源，详见项目根目录的 LICENSE 文件。

## 🏆 致谢

感谢所有为这个项目做出贡献的开发者和测试人员！

---

**最后更新时间**：2025年10月
**版本**：1.0.0
**维护状态**：✅ 活跃维护
